#!/bin/bash

# Ubuntu Server Auto Setup Script for Google Discover SEO Automation

echo "🚀 Starting Ubuntu Server Setup..."

# Step 1: Update & Upgrade System
echo "🔄 Updating system packages..."
sudo apt update && sudo apt upgrade -y

# Step 2: Install Required Packages
echo "📦 Installing necessary dependencies..."
sudo apt install curl wget unzip git python3 python3-pip python3-venv nodejs npm chromium-chromedriver -y

# Step 3: Setup Python Virtual Environment
echo "🐍 Setting up Python virtual environment..."
mkdir -p ~/discover-bot && cd ~/discover-bot
python3 -m venv venv
source venv/bin/activate
pip install requests selenium fastapi uvicorn google-auth google-auth-oauthlib google-auth-httplib2 google-api-python-client

# Step 4: Setup Node.js Backend
echo "🚀 Setting up Node.js environment..."
mkdir -p ~/discover-bot/node_backend && cd ~/discover-bot/node_backend
npm init -y
npm install express axios puppeteer cors body-parser

# Step 5: Configure Google Instant Indexing API
echo "⚡ Configuring Google Instant Indexing API..."
mkdir -p ~/discover-bot/scripts && cd ~/discover-bot/scripts
touch google_indexing.py google_ctr_bot.py

# Step 6: Setup Firewall (Optional)
echo "🛡️ Setting up firewall..."
sudo ufw allow OpenSSH
sudo ufw enable
